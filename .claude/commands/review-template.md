# Review Template Command

template/ ディレクトリの品質をレビューし、改善点を提示する。

## 参照ドキュメント

レビュー前に必ず確認:
- `docs/design.md` - 設計原則・ファイル構成の定義
  - §4.2 コンポーネントの役割
  - §4.3 エージェント vs コマンドの使い分け
  - §4.4 参照パターン（Just-in-time）
  - §10.1 コンテキスト記述のガイドライン
- `CLAUDE.md` - 開発方針・編集時の注意点

## 使用方法

```bash
# テンプレート全体をレビュー
/review-template

# 特定のカテゴリをレビュー
/review-template agents
/review-template commands
/review-template references
```

## レビュー対象

| パス | 説明 |
|-----|------|
| template/.ai/context.md | メインコンテキストファイル |
| template/.ai/agents/*.md | エージェント定義 |
| template/.ai/commands/*.md | コマンド定義 |
| template/.ai/references/ | 参照用ファイル（チェックリスト等） |
| template/scripts/*.sh | シェルスクリプト |
| template/docs/ | ドキュメント構造 |

## レビュー観点

### 1. 設計原則の遵守

#### context.md
- [ ] 穴埋め形式を維持しているか
- [ ] 具体的すぎる例を避けているか
- [ ] 高シグナル情報に絞られているか
- [ ] 適切な抽象度を保っているか

#### agents/*.md
- [ ] 対話・相談向けの内容になっているか（アクション実行はコマンドへ）
- [ ] 役割が明確に定義されているか
- [ ] 他のエージェントと責務が重複していないか

#### commands/*.md
- [ ] ツール非依存を維持しているか（Cursor/Claude Code/Copilot等で動作）
- [ ] 実行手順が明確か
- [ ] 出力形式が定義されているか
- [ ] 1:1対応のエージェントがあれば統合を検討

#### references/
- [ ] チェックリスト・テンプレートとして機能するか
- [ ] 他ファイルから参照されているか（孤立していないか）

#### scripts/*.sh
- [ ] POSIX互換を維持しているか
- [ ] エラーハンドリングが適切か
- [ ] 冪等性があるか（複数回実行しても問題ないか）

### 2. 一貫性チェック

- [ ] ファイル間で用語が統一されているか
- [ ] 相互参照が正しいか（リンク切れがないか）
- [ ] 命名規則が統一されているか

### 3. 汎用性チェック

- [ ] 特定の技術スタックに依存していないか
- [ ] プロジェクト固有の情報が混入していないか
- [ ] examples/ に分離すべき具体例がないか

### 4. 完全性チェック

- [ ] 必須ファイルが揃っているか
- [ ] 空ファイル（.gitkeep以外）がないか
- [ ] TODO/FIXMEが残っていないか

## 処理フロー

1. **対象ファイルの収集**
   - 引数あり → 指定カテゴリのみ
   - 引数なし → template/ 全体

2. **自動チェック**
   - リンク切れの検出
   - 空ファイルの検出
   - TODO/FIXMEの検出

3. **マニュアルレビュー**
   - 設計原則の遵守
   - 一貫性・汎用性・完全性

4. **改善提案の作成**

## 出力形式

```markdown
# テンプレートレビュー結果

## サマリー
- 対象ファイル数: X
- 問題点: Critical X件, Warning X件, Info X件

## Critical: 要修正
- [ ] `path/to/file.md` [問題説明]
  - 現状: [内容]
  - 改善案: [提案]

## Warning: 改善推奨
...

## Info: 参考情報
...

## 次のアクション
1. [優先度高い修正]
2. [その他の改善]
```

## 注意事項

- テンプレートとしての汎用性を最優先
- 過剰な指摘は避け、実用的な改善点に絞る
- 破壊的変更の提案には影響範囲を明記
